{"version":3,"sources":["components/Item.js","components/Loader.js","components/Dropdown.js","JSON_MockUp_Sample.js","Widget.js","index.js"],"names":["Items","props","react_default","a","createElement","className","data-title","title","data-author","author","data-id","id","data-ref-type","ref_type","onClick","e","handleReferenceClick","style","display","textAlign","fontSize","Loader","circlesStyle","height","attributes","size","width","background","color","borderRadius","marginRight","loaderWrapperStyle","visibility","isLoading","opacity","position","justifyContent","alignItems","wrapperHeight","flexDirection","loaderStyle","type","minorLoader","majorLoader","rider","Dropdown","titles","authors","ref_types","chars","state","dropdownCurHeight","goBackInTime","historyExists","data-tab-name","handleTabToggle","widgetHeight","payload","map","ref","key","Item","Gen_JSON_Mockup","randTitle","randIndex","_titles","split","_templateObject","_authors","_templateObject2","randAuthors","_templateObject3","i","Math","floor","random","length","push","splice","filter","len","join","rand_int","ceil","Widget","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","dropdownIsCollapsed","refID","activeTab","activeTabLink","dropdown","undefined","history","resizeDropdownHeightTo","bind","assertThisInitialized","findNode","_this2","setState","prevState","collapsed","activeTabName","tabLinks","tabs","currentTarget","getAttribute","concat","forEach","tabLink","classList","remove","add","_this3","dataset","setTimeout","past","_this4","pastIndex","backInTime","varNotNeeded","pop","constHeight","arguments","offsetHeight","parent","childName","DOMp","ReactDOM","findDOMNode","queryAll","querySelectorAll","querySelector","prop","handleDropdownToggle","components_Dropdown","React","Component","render","src_Widget","document"],"mappings":"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","file":"static/js/main.fc61b190.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nfunction Items(props)\r\n{\r\n  let ref_type_style = {\r\n        display: 'block',\r\n        textAlign: 'right',\r\n        fontSize: '10px'\r\n      }\r\n\r\n  return (\r\n    <div\r\n      className='tab-items-wrapper'\r\n      data-title={props.title}\r\n      data-author={props.author}\r\n      data-id={props.id}\r\n      data-ref-type={props.ref_type}\r\n      onClick={(e) => props.handleReferenceClick(e)}\r\n    >\r\n      <li className='tab-items'>\r\n        <span className='props'>Title: <span className='title'>{props.title}</span></span>\r\n        <span className='props'>Author: <span className='author'>{props.author}</span></span>\r\n        <span className='props'>Ref. ID: <span className=\"id\">{props.id}</span></span>\r\n        <span className='props' style={ref_type_style}>{props.ref_type}</span>\r\n      </li>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Items;","import React from 'react';\r\n\r\n\r\n//Loader returns 'minor loader' (without wrapper) or 'major loader' (with wrapper) depending on context \r\nexport default function Loader(props)\r\n{\r\n  let circlesStyle = \r\n      {\r\n        height: props.attributes.size,\r\n        width: props.attributes.size,\r\n        background: props.attributes.color,\r\n        display: 'inline-block',\r\n        borderRadius: '50%',\r\n        marginRight: 5,\r\n      },\r\n      loaderWrapperStyle = \r\n      {\r\n        visibility: props.isLoading ? 'visible' : 'hidden',\r\n        opacity: props.isLoading ? 1 : 0,\r\n        position: 'absolute',\r\n        width: '100%',\r\n        background: 'rgba(50, 50, 50, 0)',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        height: props.attributes.wrapperHeight,\r\n        flexDirection: 'column',\r\n        color: props.attributes.color\r\n      },\r\n      loaderStyle = \r\n      {\r\n        display: 'block',\r\n        textAlign: 'center',\r\n        position: props.attributes.type === 'minor' ? 'absolute' : '',\r\n        visibility: props.isLoading ? 'visible' : 'hidden',\r\n        opacity: props.isLoading ? 1 : 0\r\n      },\r\n      minorLoader = \r\n        <span className='loader' style={loaderStyle}>\r\n          <span className='loader-circle' style={circlesStyle}></span>\r\n          <span className='loader-circle' style={circlesStyle}></span>\r\n          <span className='loader-circle' style={circlesStyle}></span>\r\n        </span>,\r\n      majorLoader = \r\n        <div className='loader-wrapper' style={loaderWrapperStyle}>\r\n          {minorLoader}<br />\r\n          <span className='load-name' style={{fontSize: '13px'}}>{props.attributes.rider}</span>\r\n        </div>;\r\n  \r\n  //loader animation style in CSS (index.css) file\r\n\r\n  return props.attributes.type === 'minor' ? minorLoader : majorLoader;\r\n}","import React from 'react';\r\nimport Item from './Item';\r\nimport Loader from './Loader';\r\n\r\n\r\nfunction Dropdown(props)\r\n{\r\n  return (\r\n    <section className='dropdown' style={{height: props.state.dropdownCurHeight}}>\r\n      <div className='tab-links-wrapper'>\r\n        <button\r\n          className=\"back-btn\"\r\n          onClick={props.goBackInTime}\r\n          style={{width: props.state.historyExists ? 55 : 0}}\r\n        >❮</button>\r\n        <button\r\n          className='required-tab-link tab-link active-tab-link'\r\n          data-tab-name='required-tab'\r\n          onClick={props.handleTabToggle}\r\n        >Required</button>\r\n        <button\r\n          className='recommended-tab-link tab-link'\r\n          data-tab-name='recommended-tab'\r\n          onClick={props.handleTabToggle}\r\n        >Recommended</button>\r\n        <button\r\n          className=\"graph-tab-link tab-link\"\r\n          data-tab-name='graph-tab'\r\n          onClick={props.handleTabToggle}\r\n        >★</button>\r\n      </div>\r\n      <div className='tabs-container' style={{position: 'relative'}}>\r\n        <Loader\r\n          isLoading={props.state.isLoading}\r\n          attributes={{\r\n            size: 12,\r\n            color: '#333',\r\n            rider: 'Loading References...',\r\n            type: 'major',\r\n            wrapperHeight: props.state.dropdownCurHeight - props.state.widgetHeight\r\n          }}\r\n        />\r\n\r\n        <div className='tabs-wrapper' style={{opacity: props.state.isLoading ? 0 : 1}}>\r\n          <ul className='tab required-tab active-tab'> \r\n            {\r\n              props.state.payload.map((ref, key) => \r\n                ref.ref_type === 'required' ? \r\n                <Item\r\n                  title={ref.title}\r\n                  author={ref.author}\r\n                  id={ref.id}\r\n                  key={key}\r\n                  ref_type={ref.ref_type}\r\n                  handleReferenceClick={props.handleReferenceClick}\r\n                />\r\n              : null)\r\n            }\r\n          </ul>\r\n          <ul className='tab recommended-tab'>\r\n            {\r\n              props.state.payload.map((ref, key) => \r\n                ref.ref_type === 'recommended' ? \r\n                <Item\r\n                  title={ref.title}\r\n                  author={ref.author}\r\n                  id={ref.id}\r\n                  key={key}\r\n                  ref_type={ref.ref_type}\r\n                  handleReferenceClick={props.handleReferenceClick}\r\n                />\r\n              : null)\r\n            }\r\n          </ul>\r\n          <ul className='tab graph-tab'>\r\n            <div className='tab-items-wrapper graph-wrapper'>\r\n              <h1 className='title'>GRAPH ZONE!</h1>\r\n            </div>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n\r\nexport default Dropdown;","\r\nlet titles, authors, ref_types, chars;\r\n\r\ntitles = `The Iliad;The Hobbit;1984;Pride and Prejudice;To Kill a Mockingbird;The Da Vinci Code;The Catcher in the Rye;Life of Pi;The Two Towers;Harry Potter and the Goblet of Fire;Outlander;Never Let Me Go;Digital Fortress;A Christmas Carol;Zen and the Art of Motorcycle Maintenance;Tess of the d'Urbervilles;The Divine Comedy;The Thirteenth Tale;To the Lighthouse;The Sea of Monsters`;\r\nauthors = `Homer;J. R. R. Tolkien;George Orwell;Jane Austen;Harper Lee;Dan Brown;J. D. Salinger;Yann Martel;J. R. R. Tolkien;J. K. Rowling;Diana Gabaldon;Kazuo Ishiguro;Dan Brown;Charles Dickens;Robert M. Pirsig;Thomas Hardy;Dante Alighieri;Diane Setterfield;Virginia Woolf;Rick Riordan`;\r\nref_types=['required', 'recommended'];\r\nchars = '01234abcdefghijklmnopqrstuvwxyz56789'.split('');\r\n\r\n\r\nexport default function Gen_JSON_Mockup()\r\n{\r\n\r\n  let JSON_MockUp = [],\r\n      _titles = titles.split`;`,\r\n      _authors = authors.split`;`,\r\n      randTitles = [], randAuthors = [],\r\n      randTitle, randIndex;\r\n\r\n  randTitles = titles.split`;`.map((title, i) =>\r\n  {\r\n    if (i > 7) return null;\r\n\r\n    randIndex = Math.floor(Math.random() * _titles.length);\r\n    randTitle = _titles[randIndex];\r\n    randAuthors.push(_authors[randIndex]);\r\n    _titles.splice(randIndex, 1);\r\n    _authors.splice(randIndex, 1);\r\n    return randTitle;\r\n  }).filter((randTitle) => randTitle !== null);\r\n\r\n\r\n  JSON_MockUp = randTitles.map((title, i) => \r\n  {\r\n    let id = chars.map((a, len) => len < 11 ? chars[Math.floor(Math.random() * chars.length)] : '').join(''),\r\n        rand_int = Math.ceil(Math.random() * _titles.length);  //used just for randomizing the number of displayed required and recommended refs \r\n\r\n    return {\r\n      title: title,\r\n      author: randAuthors[i],\r\n      id: id,\r\n      ref_type: rand_int % i === 0 ? ref_types[0] : ref_types[1]\r\n    }\r\n  });\r\n\r\n  return JSON_MockUp;\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Dropdown from './components/Dropdown';\r\nimport Gen_JSON_Mockup from './JSON_MockUp_Sample';\r\nimport Loader from './components/Loader';\r\n\r\n\r\n\r\n\r\nclass Widget extends React.Component\r\n{\r\n  constructor()\r\n  {\r\n    super();\r\n    this.state = \r\n    {\r\n      dropdownIsCollapsed: true,              //Boolean for dropdown toggle\r\n      dropdownCurHeight: 0,                   //holds dropdown height value change\r\n      refID: '9v7s4gtgt9',\r\n      isLoading: false,\r\n      payload: Gen_JSON_Mockup(),\r\n      activeTab: 'required-tab',              //this and activeTabLink will be used heavily when going back in time and for reseting active tab and tab link and resizing dropdown height to activeTab in the past\r\n      activeTabLink: 'required-tab-link',\r\n      historyExists: false,                   //displays back button if true and hides if otherwise\r\n      widgetHeight: 0,                        //same as this.height: only used as props for loader wrapper style height computation\r\n    };\r\n    this.height = 0;                          //holds constant actual value of Widget height \r\n    this.dropdown = undefined;                //child element of Widget   \r\n    this.activeTabLink = undefined;           //tab link/button\r\n    this.activeTab = undefined;               //active tab/dropdown for either of the three toggleable tabs\r\n    this.history = [{}];                      //will hold the different state changes in order to enable going back in time\r\n    this.resizeDropdownHeightTo = this.resizeDropdownHeightTo.bind(this);   //collapses or drops dropdown menu on toggle\r\n    this.findNode = this.findNode.bind(this);     //ReactDOM traverser\r\n  }\r\n\r\n  \r\n\r\n  handleDropdownToggle()\r\n  {\r\n    this.setState(prevState =>\r\n    {\r\n      let collapsed = prevState.dropdownIsCollapsed,\r\n          dropdownNewHeight = this.resizeDropdownHeightTo(collapsed ? this.activeTab : 0);\r\n\r\n      return {\r\n        dropdownIsCollapsed: !collapsed,\r\n        dropdownCurHeight: dropdownNewHeight,\r\n        widgetHeight: this.height                   //set state constant value of widget Height. Used mainly as props for loader wrapper style height\r\n      };\r\n    });\r\n  }\r\n\r\n\r\n\r\n  handleTabToggle(e)\r\n  {\r\n    let activeTabName, tabLinks, tabs;\r\n\r\n    //get all tab and tabLink elements\r\n    this.activeTabLink = e.currentTarget;\r\n    activeTabName = this.activeTabLink.getAttribute('data-tab-name');\r\n    this.activeTab = this.findNode(this, `.${activeTabName}`);\r\n    tabLinks = this.findNode(this, '.tab-link');\r\n    tabs = this.findNode(this, '.tab');\r\n\r\n    //remove all 'active' classNames from tabs and links.\r\n    tabLinks.forEach((tabLink, i) =>\r\n    {\r\n      tabLink.classList.remove('active-tab-link');\r\n      tabs[i].classList.remove('active-tab');\r\n    })\r\n    //add 'active' classNames to active tab and link\r\n    this.activeTabLink.classList.add('active-tab-link');\r\n    this.activeTab.classList.add('active-tab');\r\n    \r\n    this.setState({\r\n      dropdownCurHeight: this.resizeDropdownHeightTo(this.activeTab),\r\n      activeTab: activeTabName,\r\n      activeTabLink: `${activeTabName}-link`\r\n    });\r\n  }\r\n\r\n\r\n\r\n  handleReferenceClick(e)\r\n  {\r\n    let refID = e.currentTarget.dataset.id;\r\n\r\n    this.setState({isLoading: true});                 //first set loading to true to enable transition fadeout\r\n    this.setState({payload: []})\r\n    \r\n    setTimeout(() =>                                  //in actual sense, this setTimeout function is a kinda \r\n    {                                                 //placeholder for the fetch/axios API call method\r\n      this.setState({\r\n        refID: refID,\r\n        payload: Gen_JSON_Mockup()\r\n      });\r\n      //using another setState method here to update dropdown height to activeTab-height after it has been populated to avoid setting a height of 0 assuming it's done in the previous setState method\r\n      this.setState(\r\n      {\r\n        dropdownCurHeight: this.resizeDropdownHeightTo(this.activeTab),\r\n        historyExists: true,\r\n        isLoading: false\r\n      });\r\n      \r\n      this.history.push(this.state);                  //update history\r\n    }, 1000);\r\n  }\r\n\r\n\r\n  \r\n  //time traveller function\r\n  goBackInTime()\r\n  {\r\n    let past,\r\n        pastIndex = this.history.length - 2,\r\n        backInTime = {},\r\n        tabLinks = this.findNode(this, '.tab-link'),\r\n        tabs = this.findNode(this, '.tab');\r\n\r\n    if (pastIndex >= 0 && this.history[pastIndex])\r\n      this.setState(varNotNeeded =>\r\n      {\r\n        past = this.history[pastIndex];\r\n\r\n        for (let state in past)\r\n          backInTime[state] = past[state];\r\n\r\n        return backInTime;\r\n      })\r\n    else { this.setState({historyExists: false}); }\r\n\r\n    //remove all current active tab and tablink classes\r\n    tabLinks.forEach((tabLink, i) => \r\n    {\r\n      tabLink.classList.remove('active-tab-link');\r\n      tabs[i].classList.remove('active-tab');\r\n    })\r\n\r\n    //reset active tab and tabLink to active tab and tabLink in the past\r\n    this.activeTab = this.findNode(this, `.${this.history[pastIndex].activeTab}`);\r\n    this.activeTab.classList.add('active-tab')\r\n    this.activeTabLink = this.findNode(this, `.${this.history[pastIndex].activeTabLink}`);\r\n    this.activeTabLink.classList.add('active-tab-link');\r\n  \r\n    this.history.pop();                     //remove/delete current past after going back in time\r\n  }\r\n\r\n\r\n\r\n  resizeDropdownHeightTo(activeTab, constHeight = this.height)\r\n  {\r\n    //i.e. if the argument, activeTab, is an element and not a number (0)...\r\n    return activeTab !== 0 ? (activeTab.offsetHeight + constHeight) : 0;\r\n  }\r\n\r\n\r\n\r\n  //ReactDOM traverser function\r\n  findNode(parent, childName)\r\n  {\r\n    let DOMp = ReactDOM.findDOMNode(parent),\r\n        queryAll = DOMp.querySelectorAll(childName);\r\n\r\n    if (childName)\r\n      return queryAll[1] ? queryAll : DOMp.querySelector(childName);\r\n    return DOMp;\r\n  }\r\n\r\n\r\n\r\n  componentDidMount()\r\n  {\r\n    this.height = this.findNode(this).offsetHeight;                      //now set value of constant Widget height\r\n    this.dropdown = this.findNode(this, '.dropdown');     \r\n    this.activeTabLink = this.findNode(this, '.active-tab-link');\r\n    this.activeTab = this.findNode(this, '.required-tab');\r\n\r\n    //using for loop to set props in  history to avoid referencing this.state in history (assuming I used 'this.history.push(this.state)') due to the next two assignment lines after the for loop\r\n    for (let prop in this.state)\r\n      this.history[0][prop] = this.state[prop];\r\n\r\n    this.history[0].dropdownCurHeight = this.resizeDropdownHeightTo(this.activeTab);      //unset history initial (first state) dropdown height from 0 to the current activeTab height to prevent dropdown from resizing to 0 on click of back button if history index is at 0.\r\n    this.history[0].dropdownIsCollapsed = false;                       //prevent caret-icon-flip bug if gone back in time to first state i.e. if history index is at 0\r\n  }\r\n\r\n\r\n\r\n  render()\r\n  {\r\n    let refIDWrapperStyle =\r\n        {\r\n          position: 'relative',\r\n          display: 'flex',\r\n          justifyContent: 'center'\r\n        };\r\n\r\n    return (\r\n      <div className='widget'>\r\n        <section\r\n          className='ref-tab-wrapper'\r\n          onClick={this.handleDropdownToggle.bind(this)}\r\n        >\r\n          <span>LC</span>\r\n          <span style={refIDWrapperStyle}>\r\n            <span className='ref-identifier' style={{opacity: this.state.isLoading ? 0 : 1}}>\r\n              {this.state.refID}\r\n            </span>\r\n            <Loader\r\n              isLoading={this.state.isLoading}\r\n              attributes={{\r\n                size: 8,\r\n                color: 'white',\r\n                type: 'minor'\r\n              }}\r\n            />\r\n          </span>\r\n          <span className={`caret-icon ${this.state.dropdownIsCollapsed ? 'flip-caret-icon' : ''}`}>❮</span>\r\n        </section>\r\n        <Dropdown\r\n          state={this.state}\r\n          handleTabToggle={this.handleTabToggle.bind(this)}\r\n          handleReferenceClick={this.handleReferenceClick.bind(this)}\r\n          goBackInTime={this.goBackInTime.bind(this)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default Widget;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Widget from './Widget';\r\nimport './index.css';\r\n\r\n\r\nReactDOM.render(<Widget />, document.querySelector('#root'));\r\n"],"sourceRoot":""}